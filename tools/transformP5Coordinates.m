% Pottman's notation
% C = [[t o'];
%      [a A ]];
function G = transformP5Coordinates(A,o,a,t)
G = zeros(6,6);
G(1,1) = (A(1,1)*t - a(1)*o(1));
G(1,2) = (A(1,2)*t - a(1)*o(2));
G(1,3) = (A(1,3)*t - a(1)*o(3));
G(1,4) = (A(1,3)*o(2) - A(1,2)*o(3));
G(1,5) = - (A(1,3)*o(1) - A(1,1)*o(3));
G(1,6) = (A(1,2)*o(1) - A(1,1)*o(2));
G(2,1) = (A(2,1)*t - a(2)*o(1));
G(2,2) = (A(2,2)*t - a(2)*o(2));
G(2,3) = (A(2,3)*t - a(2)*o(3));
G(2,4) = (A(2,3)*o(2) - A(2,2)*o(3));
G(2,5) = - (A(2,3)*o(1) - A(2,1)*o(3));
G(2,6) = (A(2,2)*o(1) - A(2,1)*o(2));
G(3,1) = (A(3,1)*t - a(3)*o(1));
G(3,2) = (A(3,2)*t - a(3)*o(2));
G(3,3) = (A(3,3)*t - a(3)*o(3));
G(3,4) = (A(3,3)*o(2) - A(3,2)*o(3));
G(3,5) = - (A(3,3)*o(1) - A(3,1)*o(3));
G(3,6) = (A(3,2)*o(1) - A(3,1)*o(2));
G(4,1) = - (A(2,1)*a(3) - A(3,1)*a(2));
G(4,2) = - (A(2,2)*a(3) - A(3,2)*a(2));
G(4,3) = - (A(2,3)*a(3) - A(3,3)*a(2));
G(4,4) = (A(2,2)*A(3,3) - A(2,3)*A(3,2));
G(4,5) = - (A(2,1)*A(3,3) - A(2,3)*A(3,1));
G(4,6) = (A(2,1)*A(3,2) - A(2,2)*A(3,1));
G(5,1) = (A(1,1)*a(3) - A(3,1)*a(1));
G(5,2) = (A(1,2)*a(3) - A(3,2)*a(1));
G(5,3) = (A(1,3)*a(3) - A(3,3)*a(1));
G(5,4) = - (A(1,2)*A(3,3) - A(1,3)*A(3,2));
G(5,5) = (A(1,1)*A(3,3) - A(1,3)*A(3,1));
G(5,6) = -(A(1,1)*A(3,2) - A(1,2)*A(3,1));
G(6,1) = - (A(1,1)*a(2) - A(2,1)*a(1));
G(6,2) = - (A(1,2)*a(2) - A(2,2)*a(1));
G(6,3) = - (A(1,3)*a(2) - A(2,3)*a(1));
G(6,4) = (A(1,2)*A(2,3) - A(1,3)*A(2,2));
G(6,5) = - (A(1,1)*A(2,3) - A(1,3)*A(2,1));
G(6,6) = (A(1,1)*A(2,2) - A(1,2)*A(2,1));
return;
% g(1,1) = (A11*t - a1*o1);
% g(1,2) = (A12*t - a1*o2);
% g(1,3) = (A13*t - a1*o3);
% g(1,4) = (A13*o2 - A12*o3);
% g(1,5) = - (A13*o1 - A11*o3);
% g(1,6) = (A12*o1 - A11*o2);
% g(2,1) = (A21*t - a2*o1);
% g(2,2) = (A22*t - a2*o2);
% g(2,3) = (A23*t - a2*o3);
% g(2,4) = (A23*o2 - A22*o3);
% g(2,5) = - (A23*o1 - A21*o3);
% g(2,6) = (A22*o1 - A21*o2);
% g(3,1) = (A31*t - a3*o1);
% g(3,2) = (A32*t - a3*o2);
% g(3,3) = (A33*t - a3*o3);
% g(3,4) = (A33*o2 - A32*o3);
% g(3,5) = - (A33*o1 - A31*o3);
% g(3,6) = (A32*o1 - A31*o2);
% g(4,1) = - (A21*a3 - A31*a2);
% g(4,2) = - (A22*a3 - A32*a2);
% g(4,3) = - (A23*a3 - A33*a2);
% g(4,4) = (A22*A33 - A23*A32);
% g(4,5) = - (A21*A33 - A23*A31);
% g(4,6) = (A21*A32 - A22*A31);
% g(5,1) = (A11*a3 - A31*a1);
% g(5,2) = (A12*a3 - A32*a1);
% g(5,3) = (A13*a3 - A33*a1);
% g(5,4) = - (A12*A33 - A13*A32);
% g(5,5) = (A11*A33 - A13*A31);
% g(5,6) = -(A11*A32 - A12*A31);
% g(6,1) = - (A11*a2 - A21*a1);
% g(6,2) = - (A12*a2 - A22*a1);
% g(6,3) = - (A13*a2 - A23*a1);
% g(6,4) = (A12*A23 - A13*A22);
% g(6,5) = - (A11*A23 - A13*A21);
% g(6,6) = (A11*A22 - A12*A21);
% 
% return;

% g = 
% v3*(A12*o1 - A11*o2) - v2*(A13*o1 - A11*o3) + v1*(A13*o2 - A12*o3) + u1*(A11*t - a1*o1) + u2*(A12*t - a1*o2) + u3*(A13*t - a1*o3)
%              v3*(A22*o1 - A21*o2) - v2*(A23*o1 - A21*o3) + v1*(A23*o2 - A22*o3) + u1*(A21*t - a2*o1) + u2*(A22*t - a2*o2) + u3*(A23*t - a2*o3)
%              v3*(A32*o1 - A31*o2) - v2*(A33*o1 - A31*o3) + v1*(A33*o2 - A32*o3) + u1*(A31*t - a3*o1) + u2*(A32*t - a3*o2) + u3*(A33*t - a3*o3)
%  v1*(A22*A33 - A23*A32) - u2*(A22*a3 - A32*a2) - u3*(A23*a3 - A33*a2) - u1*(A21*a3 - A31*a2) - v2*(A21*A33 - A23*A31) + v3*(A21*A32 - A22*A31)
%  u1*(A11*a3 - A31*a1) + u2*(A12*a3 - A32*a1) + u3*(A13*a3 - A33*a1) - v1*(A12*A33 - A13*A32) + v2*(A11*A33 - A13*A31) - v3*(A11*A32 - A12*A31)
%  v1*(A12*A23 - A13*A22) - u2*(A12*a2 - A22*a1) - u3*(A13*a2 - A23*a1) - u1*(A11*a2 - A21*a1) - v2*(A11*A23 - A13*A21) + v3*(A11*A22 - A12*A21)
% 
%  
%  g11 = (A11*t - a1*o1);
%  g12 = (A12*t - a1*o2);
%  g13 = (A13*t - a1*o3);
%  g14 = (A13*o2 - A12*o3);
%  g15 = - (A13*o1 - A11*o3);
%  g16 = (A12*o1 - A11*o2);
%  g21 = (A21*t - a2*o1);
%  g22 = (A22*t - a2*o2);
%  g23 = (A23*t - a2*o3);
%  g24 = (A23*o2 - A22*o3);
%  g25 = - (A23*o1 - A21*o3);
%  g26 = (A22*o1 - A21*o2);
%  g31 = (A31*t - a3*o1);
%  g32 = (A32*t - a3*o2);
%  g33 = (A33*t - a3*o3);
%  g34 = (A33*o2 - A32*o3);
%  g35 = - (A33*o1 - A31*o3);
%  g36 = (A32*o1 - A31*o2);
%  g41 = - (A21*a3 - A31*a2);
%  g42 = - (A22*a3 - A32*a2);
%  g43 = - (A23*a3 - A33*a2);
%  g44 = (A22*A33 - A23*A32);
%  g45 = - (A21*A33 - A23*A31);
%  g46 = (A21*A32 - A22*A31);
%  g51 = (A11*a3 - A31*a1);
%  g52 = (A12*a3 - A32*a1);
%  g53 = (A13*a3 - A33*a1);
%  g54 = - (A12*A33 - A13*A32);
%  g55 = (A11*A33 - A13*A31);
%  g56 = -(A11*A32 - A12*A31);
%  g61 = - (A11*a2 - A21*a1);
%  g62 = - (A12*a2 - A22*a1);
%  g63 = - (A13*a2 - A23*a1);
%  g64 = (A12*A23 - A13*A22);
%  g65 = - (A11*A23 - A13*A21);
%  g66 = (A11*A22 - A12*A21);